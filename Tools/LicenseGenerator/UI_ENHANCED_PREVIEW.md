# LicenseGenerator UI - 增强许可证功能预览

## 界面布局

### 窗口尺寸
- **宽度**: 750px
- **高度**: 600px
- **标题**: ColorVision 许可证生成工具

## 标签页 1: 简单许可证

```
┌───────────────────────────────────────────────────────────────┐
│                  ColorVision 许可证生成工具                    │
├───────────────────────────────────────────────────────────────┤
│  [简单许可证] [增强许可证]                                      │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 当前机器信息                                              │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 机器名称: [RUNNER-1234567                  ]      │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 机器码:   [72756e6e65722d...              ] [复制] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 简单许可证生成                                            │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 机器码: [                              ] [使用当前] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │                                                           │   │
│ │      ┌────────────────────────────────────┐              │   │
│ │      │    生成简单许可证                   │              │   │
│ │      └────────────────────────────────────┘              │   │
│ │                                                           │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 许可证: [hQW7/x9MnKpZE8vF...   ] [复制] [保存]    │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 状态信息                                                  │   │
│ │ 就绪 (绿色)                                              │   │
│ └─────────────────────────────────────────────────────────┘   │
└───────────────────────────────────────────────────────────────┘
```

## 标签页 2: 增强许可证 ⭐ 新功能

```
┌───────────────────────────────────────────────────────────────┐
│                  ColorVision 许可证生成工具                    │
├───────────────────────────────────────────────────────────────┤
│  [简单许可证] [增强许可证]                                      │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 许可证信息                                                │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 机器码:     [                        ] [使用当前] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 客户名称:   [                                   ] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 设备型号:   [                                   ] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 有效期至:   [📅 2025-10-10  ] 剩余天数: 365 (绿) │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ 签发机构:   [ColorVision                        ] │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 增强许可证生成                                            │   │
│ │      ┌────────────────────────────────────┐              │   │
│ │      │    生成增强许可证                   │              │   │
│ │      └────────────────────────────────────┘              │   │
│ │                                                           │   │
│ │ ┌───────────────────────────────────────────────────┐   │   │
│ │ │ eyJhdXRob3JpdHlfc2lnbmF0dXJlIjoiaFFXNy...        │   │   │
│ │ │ (Base64 + JSON 格式)                              │   │   │
│ │ │                                                   │   │   │
│ │ │                            [复制]  [保存]         │   │   │
│ │ └───────────────────────────────────────────────────┘   │   │
│ └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│ ┌─────────────────────────────────────────────────────────┐   │
│ │ 状态信息                                                  │   │
│ │ 增强许可证生成成功 (验证: 通过 ✓, 有效期: 365 天) (绿色)  │   │
│ └─────────────────────────────────────────────────────────┘   │
└───────────────────────────────────────────────────────────────┘
```

## 界面元素详解

### 标签页切换
- **简单许可证**：保留原有功能
- **增强许可证**：新增的增强功能 ⭐

### 增强许可证输入字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 机器码 | 文本框 + 按钮 | ✅ | 十六进制字符串，可使用"使用当前"按钮自动填充 |
| 客户名称 | 文本框 | ✅ | 被许可人或客户公司名称 |
| 设备型号 | 文本框 | ❌ | 设备型号标识，如 "CV-CAM-1000" |
| 有效期至 | 日期选择器 | ✅ | 许可证过期日期，默认为 1 年后 |
| 剩余天数 | 只读标签 | - | 自动计算并显示，颜色提示：绿(>30天)/橙(≤30天)/红(已过期) |
| 签发机构 | 文本框 | ❌ | 默认 "ColorVision" |

### 按钮功能

#### 简单许可证标签页
- **使用当前**：将当前机器码填入输入框
- **复制** (机器码)：复制当前机器码到剪贴板
- **生成简单许可证**：生成简单格式的许可证
- **复制** (许可证)：复制生成的许可证到剪贴板
- **保存**：保存许可证到 .license 文件

#### 增强许可证标签页
- **使用当前**：将当前机器码填入输入框
- **生成增强许可证**：生成增强格式的许可证（Base64 + JSON）
- **复制**：复制生成的增强许可证到剪贴板
- **保存**：保存许可证到 .lic 文件

### 状态信息

显示当前操作状态，颜色编码：
- **绿色**：操作成功
  - "就绪"
  - "许可证生成成功 (验证: 通过 ✓)"
  - "增强许可证已复制到剪贴板"
- **红色**：错误或失败
  - "请输入机器码"
  - "请输入客户名称"
  - "有效期必须晚于当前时间"

### 剩余天数颜色提示

```
剩余天数 > 30:   绿色 ✓  (正常)
剩余天数 ≤ 30:   橙色 ⚠  (即将过期)
剩余天数 ≤ 0:    红色 ✗  (已过期)
```

## 交互流程

### 生成增强许可证的完整流程

```
1. 打开工具
   ↓
2. 切换到"增强许可证"标签页
   ↓
3. 填写必填字段
   - 机器码 (可点击"使用当前")
   - 客户名称
   - 有效期 (默认1年后)
   ↓
4. (可选) 填写选填字段
   - 设备型号
   - 签发机构 (默认已填)
   ↓
5. 观察剩余天数显示
   - 实时更新
   - 颜色提示
   ↓
6. 点击"生成增强许可证"
   ↓
7. 查看输出
   - Base64 编码的许可证字符串
   - 状态栏显示验证结果和有效期
   ↓
8. 复制或保存
   - 点击"复制"按钮 → 剪贴板
   - 点击"保存"按钮 → .lic 文件
```

### 输入验证

工具会自动验证：
1. **机器码不能为空**
2. **客户名称不能为空**
3. **必须选择有效期**
4. **有效期必须晚于当前时间**

验证失败时：
- 状态栏显示红色错误消息
- 焦点自动移到出错的输入框

### 自动功能

1. **自动清空输出**
   - 任何输入字段变化时，自动清空许可证输出框
   - 防止使用错误的旧许可证

2. **自动验证**
   - 生成许可证后立即验证
   - 在状态栏显示验证结果

3. **剩余天数实时更新**
   - 修改有效期时自动更新剩余天数
   - 根据剩余天数自动调整颜色

## 许可证输出示例

### 简单许可证输出
```
hQW7/x9MnKpZE8vF3LkR2jMqN4oP5sT6uV7wX8yZ9aB0cD1eE2fF3gG4hH5iI6jJ7kK8lL9mM...
```
（约 344 字符）

### 增强许可证输出
```
eyJhdXRob3JpdHlfc2lnbmF0dXJlIjoiaFFXNy94OU1uS3BaRTh2RjNMa1Iyak1xTjRvUDVz
VDZ1Vjd3WDh5WjlhQjBjRDFlRTJmRjNnRzRoSDVpSTZqSjdrSzhsTDltTTBuTjFvTzJwUDNx
UTRSUJU1c1M2dFQ3dVU4dlY5d1cweVgxeVkyelloM2FBNGJCNWNDNmREN2VFOGZGOWdHMGhI
MWlJMmpKM2tLNGxMNW1NNm5ON29POHBQOXFRMHJSMXNTMnRUM3VVNHZWNXdXNnhYN3lZOHpa
OWFBMGJCMWNDMmREM2VFNGZGNWdHNmhIN2lJOGpKOWtLMGxMMW1NMm5OM29PNHBQNXFRNnJS
N3NTOHRUOXVVMHZWMXdXMnhYM3lZNHpaNU5hQTZiQjdjQzhkRDllRTBmRjFnRzJoSDNpSTRq
SjVrSzZsTDdtTThuTjlvTzBwUDFxUTJyUjNzUzR0VDV1VTZ2Vjd3Vzh4WDl5WTB6WjFhQTJi
...
```
（约 600-800 字符）

## 窗口特性

- **可调整大小**：是（原来是不可调整）
- **启动位置**：屏幕中央
- **最小尺寸**：750x600
- **窗口标题**：ColorVision 许可证生成工具

## 颜色方案

- **输入框背景**：白色
- **只读框背景**：#F0F0F0 (浅灰)
- **成功消息**：绿色
- **错误消息**：红色
- **警告提示**：橙色

## 可访问性

- 所有输入框都有 ToolTip 提示
- 按钮文字清晰易懂
- 颜色编码辅以文字说明
- 错误消息具体明确

## 与旧版本对比

### 旧版本 (简单许可证)
- 单一界面
- 仅支持简单许可证
- 窗口大小 700x500
- 不可调整大小

### 新版本 (增强许可证)
- 双标签页界面 ⭐
- 支持简单 + 增强许可证 ⭐
- 窗口大小 750x600
- 可调整大小 ⭐
- 剩余天数显示 ⭐
- 输入验证增强 ⭐
- 状态反馈更详细 ⭐
