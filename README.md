# scgd_general_wpf

## ğŸ–¥ï¸ æ”¯æŒ

**è¿è¡Œç¯å¢ƒ** NET 6.0 , VS2022 , Win11 
**åˆ†è¾¨ç‡**ï¼š1920x1080,100%
**é¡¹ç›®ç‰¹æ€§**

- æ”¯æŒæ“ä½œç³»ç»Ÿï¼šWin10,Win11
- æ”¯æŒå¼€æœºè‡ªå¯ï¼Œé¡¹ç›®åœ¨ç‰ˆæœ¬ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œä¸æ”¯æŒå¤šå¼€
- æ”¯æŒä¸»é¢˜æ¨¡å¼ï¼šæ·±è‰²ï¼Œæµ…è‰²ï¼Œè·Ÿéšç³»ç»Ÿ
- æ”¯æŒè¯­è¨€ï¼šç®€ä½“ä¸­æ–‡ï¼Œç¹ä½“ä¸­æ–‡ï¼ŒéŸ©è¯­ï¼Œæ—¥æœ¬è¯­ï¼Œè‹±è¯­ï¼Œè·Ÿéšç³»ç»Ÿ

## ç¿»è¯‘APIï¼š

Google apikey  AIzaSyBElxN8V59CXS0ML-Q5YC7Do-Rza8FGawE

Baidu  AppIDï¼š20180402000142443

â€‹            SecretKey:bTLryuKSa4vWCJLs0ECO





## é¡¹ç›®ç»“æ„

#### ColorVision

#### ColorVision.Util

#### ColorVision.Common

#### cvColorVision

## ä½¿ç”¨æµç¨‹

#### MQTTé…ç½®

```
 "MQTTConfig": {
    "Name": "192.168.3.225_1883",
    "Host": "192.168.3.225",
    "Port": 1883,
    "UserName": "",
    "UserPwd": ""
  }
```

#### æ•°æ®åº“é…ç½®

```
 "MySqlConfig": {
    "Name": "192.168.3.250_3306",
    "Host": "192.168.3.250",
    "Port": 3306,
    "UserName": "root",
    "UserPwd": "123456@cv",
    "Database": "cv"
  }
```

## æµç¨‹

1ã€è¿›è¡Œå„ç§é©±åŠ¨ã€æ•°æ®åº“ã€MQTTã€ä¸»ç¨‹åºå®‰è£…ï¼Œåˆå§‹åŒ–å·¥ä½œå®Œæˆï¼ˆåŒ…å«é…ç½®æ–‡ä»¶ã€æ•°æ®åº“è„šæœ¬ç­‰ï¼‰--------------æœ‰å¯èƒ½åªæœ‰ä¸»ç¨‹åº
2ã€å¯åŠ¨ä¸»ç¨‹åºï¼Œé…ç½®ç³»ç»Ÿç›¸å…³å‚æ•°ï¼ˆåŒ…æ‹¬æ•°æ®åº“ã€MQTTç­‰å‚æ•°ï¼‰ï¼Œä½¿ç”¨ç®¡ç†å‘˜å¯¹ç”¨æˆ·åå’Œç§Ÿæˆ·è¿›è¡Œå»ºæƒï¼Œä½¿ç”¨ç”¨æˆ·åè¿›è¡Œç™»å½•ï¼ˆæ‹¿åˆ°å¯¹åº”çš„æƒé™å’Œç§Ÿæˆ·ï¼‰
3ã€åœ¨æœåŠ¡é…ç½®ç•Œé¢ï¼Œæ ¹æ®æƒé™ï¼ˆè¶…çº§ç®¡ç†å‘˜æ‰€æœ‰åŠŸèƒ½éƒ½æœ‰ï¼‰åˆ†ä¸ºæ³¨å†Œï¼ˆsetï¼‰æˆ–è€…å‘ç°ï¼ˆgetï¼‰æ‰€æœ‰çš„æœåŠ¡ï¼Œå¹¶æ‹¿åˆ°è¿™äº›æœåŠ¡ä¸‹å½“å‰çš„ç¡¬ä»¶èµ„æºidï¼Œå¹¶è¿›è¡Œé€‰æ‹©ï¼Œå®ŒæˆæœåŠ¡çš„åˆå§‹åŒ–ã€‚è¶…çº§ç®¡ç†å‘˜è¿˜éœ€è¦åˆ†é…ç§Ÿæˆ·ï¼ˆç°åœ¨å¯ä»¥è§†ä½œæœåŠ¡ï¼‰åŠå¯¹ç§Ÿæˆ·ä¸­çš„ç”¨æˆ·è¿›è¡Œé…ç½®ï¼Œç”¨æˆ·å¯ä»¥çœ‹åˆ°è‡ªå·±æ‰€å±ç§Ÿæˆ·çš„æ‰€æœ‰èµ„æº
4ã€åœ¨è®¾å¤‡é…ç½®ç•Œé¢ï¼Œç”¨æˆ·æ ¹æ®ç§Ÿæˆ·æ‹¿åˆ°æ‰€æœ‰çš„è®¾å¤‡ï¼Œè¿›è¡Œé€‰æ‹©å¹¶è¿›è¡Œåˆå§‹åŒ–ï¼ˆå…¶å®å°±æ˜¯ç‹¬å äº†èµ„æºï¼‰ã€å–åˆ«åç­‰æ“ä½œï¼Œé¦–å…ˆéªŒè¯licenseï¼Œå®Œæˆåæ‘†æ”¾åˆ°ç•Œé¢ä¸Šä»¥ä¾›ä½¿ç”¨ã€‚

### ç®¡ç†å‘˜ç®¡ç†æœåŠ¡

1 .æœåŠ¡çš„å¢åˆ æ”¹æŸ¥ï¼ˆidã€åˆ«åã€æœåŠ¡å‚æ•°ã€é…ç½®TOPICã€‚ã€‚ï¼‰

2.è®¾å¤‡çš„å¢åˆ æ”¹æŸ¥ï¼ˆidã€åˆ«åã€è®¾å¤‡å‚æ•°ï¼Œsn , è®¸å¯è¯ï¼‰

3.ç°åœ¨çš„ç”¨æˆ·æ— æ³•è¿›è¡Œè®¾å¤‡çš„å¢åˆ æ”¹æŸ¥ï¼Œæ˜¯ç”±ç®¡ç†å‘˜æ¥åˆ†é…çš„

### æœåŠ¡æ“ä½œ

### æ“ä½œé€»è¾‘

åˆå§‹åŒ–æœåŠ¡ï¼ˆè·å–æ‰€æœ‰çš„è¯¥æœåŠ¡ä¸‹çš„SNï¼‰

æœåŠ¡å¿ƒè·³

ä»¥ç°åœ¨æ•°æ®åº“ä¸­çš„åˆ—åˆ«æ¥å‘ˆç°è®¾å¤‡ç§ç±»

ç”¨æˆ·å¯ä»¥ä¿®æ”¹åˆ«åã€åŠå…¶ç›¸å…³çš„ä¸€äº›å±æ€§ï¼ˆè®¾å¤‡æ¨¡æ¿ç»‘å®šï¼‰ï¼Œä»¥ç›¸æœºä¸ºä¾‹

1ã€åˆå§‹åŒ–è®¾å¤‡ï¼ˆå‘é€åè®®ï¼Œå¸¦SNï¼‰
2ã€æ³¨é”€è®¾å¤‡ï¼ˆå‘é€åè®®ï¼Œå¸¦SNï¼‰
3ã€è®¾å¤‡å¿ƒè·³	

### ä¸»ç•Œé¢

æ ¹æ®è®¾å¤‡é…ç½®çš„ç”Ÿæˆå¯¹åº”çš„ç•Œé¢åˆ—è¡¨ï¼Œå¹¶æ‰§è¡Œå¯¹åº”çš„æ“ä½œ



## MQTTåè®®

## å¿ƒè·³åè®®

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "Camera",
	"data" : ""
}
```

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "PG",
	"data" : ""
}
```

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "SMU",
	"data" : ""
}
```

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "Camera",
	"data" : ""
}
```

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "Spectrum",
	"data" : ""
}
```

```
{
	"Code" : 0,
	"EventName" : "Heartbeat",
	"MsgID" : 0,
	"ServiceID" : 0,
	"ServiceName" : "Sensor",
	"data" : ""
}
```

### ç›¸æœºåè®®

#### Init

```
 "MsgSend": {
      "Version": "1.0",
      "EventName": "Init",
      "ServiceName": "Camera",
      "ServiceID": 2311455622160,
      "SnID": "e29b14429bc375b1",
      "MsgID": "1f794554-ca41-4edc-aa84-5119925b0771",
      "params": {
        "CameraType": 1
      }
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "Init",
      "ServiceName": "Camera",
      "ServiceID": 2311456371280,
      "SnID": "e29b14429bc375b1",
      "Code": 0,
      "MsgID": "1f794554-ca41-4edc-aa84-5119925b0771",
      "data": {
        "SnID": "{\n\t\"ID\" : \n\t[\n\t\t\"e29b14429bc375b1\"\n\t],\n\t\"number\" : 1\n}\n"
      }
    }
```

#### UnInit

```
 "MsgSend": {
      "Version": "1.0",
      "EventName": "UnInit",
      "ServiceName": "Camera",
      "ServiceID": 2311455622160,
      "SnID": "e29b14429bc375b1",
      "MsgID": "5d45d13a-6673-4036-85d8-4633914217b0",
      "params": null
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "UnInit",
      "ServiceName": "Camera",
      "ServiceID": 2311455622160,
      "SnID": "e29b14429bc375b1",
      "Code": 1,
      "MsgID": "5d45d13a-6673-4036-85d8-4633914217b0",
      "data": ""
    }
```

#### Open

```
 "MsgSend": {
      "Version": "1.0",
      "EventName": "Open",
      "ServiceName": "Camera",
      "ServiceID": 2311456371280,
      "SnID": "e29b14429bc375b1",
      "MsgID": "1665662a-859c-423d-b156-e8bbf1a540ae",
      "params": {
        "TakeImageMode": 0,
        "SnID": "e29b14429bc375b1",
        "Bpp": 8
      }
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "Open",
      "ServiceName": "Camera",
      "ServiceID": 2311456371280,
      "SnID": "e29b14429bc375b1",
      "Code": 1,
      "MsgID": "1665662a-859c-423d-b156-e8bbf1a540ae",
      "data": ""
    },
```

#### Close

```
 "MsgSend": {
      "Version": "1.0",
      "EventName": "Close",
      "ServiceName": "Camera",
      "ServiceID": 2091665652640,
      "SnID": "e29b14429bc375b1",
      "MsgID": "d27b6a89-b21f-452a-9941-af96721ec1bc",
      "params": null
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "Close",
      "ServiceName": "Camera",
      "ServiceID": 2091665652640,
      "SnID": "e29b14429bc375b1",
      "Code": 0,
      "MsgID": "d27b6a89-b21f-452a-9941-af96721ec1bc",
      "data": ""
    }
```

#### GetAutoExptime

```
    "MsgSend": {
      "Version": "1.0",
      "EventName": "GetAutoExpTime",
      "ServiceName": "Camera",
      "ServiceID": 2227923805216,
      "SnID": "e29b14429bc375b1",
      "MsgID": "23891bc0-86fe-469f-ac75-c487d13dd424",
      "params": {
        "SetCfwport": [
          {
            "nIndex": 0,
            "nPort": 2,
            "eImgChlType": 0
          },
          {
            "nIndex": 1,
            "nPort": 2,
            "eImgChlType": 0
          },
          {
            "nIndex": 2,
            "nPort": 2,
            "eImgChlType": 0
          }
        ]
      }
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "GetAutoExpTime",
      "ServiceName": "Camera",
      "ServiceID": 2227923805216,
      "SnID": "e29b14429bc375b1",
      "Code": 0,
      "MsgID": "23891bc0-86fe-469f-ac75-c487d13dd424",
      "data": {
        "result": [
          {
            "result": 60000.0,
            "resultSaturation": 0.0
          },
          {
            "result": 0.0,
            "resultSaturation": 0.0
          },
          {
            "result": 0.0,
            "resultSaturation": 0.0
          }
        ]
      }
    }
```

#### GetData

```
"MsgSend": {
      "Version": "1.0",
      "EventName": "GetData",
      "ServiceName": "Camera",
      "ServiceID": 2890885791520,
      "SnID": "e29b14429bc375b1",
      "MsgID": "4f5c214a-68ef-48f3-a353-9cd6dc1d6b26",
      "params": {
        "expTime": 100.0,
        "gain": 1.0,
        "savefilename": "1.tif"
      }
    },
    "MsgReturn": {
      "Version": null,
      "EventName": "GetData",
      "ServiceName": "Camera",
      "ServiceID": 2890885791520,
      "SnID": "e29b14429bc375b1",
      "Code": 1,
      "MsgID": "4f5c214a-68ef-48f3-a353-9cd6dc1d6b26",
      "data": {
        "SaveFileName": "C:\\Users\\17917\\Desktop\\scgd_general_wpf\\ColorVision\\bin\\x64\\Debug\\net6.0-windows\\TIF\\1.tif"
      }
    }
```

### PGåè®®







