<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="ProjectStarkSemi.DemoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ScottPlot="clr-namespace:ScottPlot.WPF;assembly=ScottPlot.WPF"
        mc:Ignorable="d"
        Title="Demo Window - Y通道伪彩色分析" Height="800" Width="1200" Background="#FF2D2D30">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Top Button -->
        <Button x:Name="btnOpenFile" 
                Content="打开CVCIE文件" 
                Grid.Row="0" 
                Grid.Column="0" 
                Grid.ColumnSpan="2"
                Height="40" 
                Margin="0,0,0,10"
                FontSize="16"
                Click="BtnOpenFile_Click"/>

        <!-- Image Display -->
        <Border Grid.Row="1" Grid.Column="0" 
                BorderBrush="#FF3F3F46" 
                BorderThickness="1" 
                Margin="0,0,5,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Y通道伪彩色图像 (Jet)" 
                           Grid.Row="0"
                           Foreground="White" 
                           FontSize="14" 
                           Margin="5"
                           HorizontalAlignment="Center"/>
                <ScrollViewer Grid.Row="1" 
                              HorizontalScrollBarVisibility="Auto" 
                              VerticalScrollBarVisibility="Auto">
                    <Image x:Name="imgDisplay" 
                           Stretch="Uniform"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Chart Display -->
        <Border Grid.Row="1" Grid.Column="1" 
                BorderBrush="#FF3F3F46" 
                BorderThickness="1" 
                Margin="5,0,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Text="直径线分析 (120°)" 
                           Grid.Row="0"
                           Foreground="White" 
                           FontSize="14" 
                           Margin="5"
                           HorizontalAlignment="Center"/>
                <ScottPlot:WpfPlot x:Name="plotChart" 
                                   Grid.Row="1" 
                                   Margin="5"/>
            </Grid>
        </Border>

        <!-- Export Buttons -->
        <StackPanel Grid.Row="2" 
                    Grid.Column="0" 
                    Grid.ColumnSpan="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center"
                    Margin="0,10,0,0">
            <Button x:Name="btnExportDiameter" 
                    Content="导出直径线CSV" 
                    Width="150" 
                    Height="35"
                    Margin="0,0,10,0"
                    Click="BtnExportDiameter_Click"
                    IsEnabled="False"/>
            <Button x:Name="btnExportCircle" 
                    Content="导出R圆CSV" 
                    Width="150" 
                    Height="35"
                    Click="BtnExportCircle_Click"
                    IsEnabled="False"/>
        </StackPanel>
    </Grid>
</Window>
